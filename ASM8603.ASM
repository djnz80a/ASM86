;------
C.ADRS:	CALL	OPCODE
	CP	50H
	JP	NZ,ERRB
	LD	A,H
	AND	L
	INC	A
	JR	Z,C.ADRS.1
	LD	HL,(VAL1)
	LD	(O.ADR1),HL
	JP	MAIN20

C.ADRS.1:
	LD	HL,(ORG.ADR)
	LD	DE,(O.BYTE)
	ADD	HL,DE
	LD	(O.ADR1),HL
	JP	MAIN20

;
;
;
C.ORG:	CALL	OPCODE
	CP	50H
	JP	NZ,ERRB
	LD	HL,(VAL1)
	LD	(ORG.ADR),HL
	LD	(O.ADR1),HL
	JP	MAIN20
;
;
;
C.END:	
	DEC	IX
	CALL	S.SKIP
	JP	NZ,ERRB
	JP	MAIN02	;RET
;
;
;
C.DB:	
	DEC	IX
	CALL	S.SKIP
C.DB0:	
	LD	A,(IX+0)
	CP	27H
	JR	Z,C.DB3
	CP	'"'
	JR	Z,C.DB3
C.DB1:	CALL	OPCODE
	CP	50H
	JP	NZ,ERRB
	LD	HL,(VAL1)
	LD	A,L
	CALL	SETDAT
	DEC	IX
	CALL	S.SKIP
	LD	A,(IX+0)
	CP	','
	JP	NZ,MAIN20
	INC	IX
	JR	C.DB0
C.DB3:	LD	C,A
	LD	A,(IX+2)
	CP	C
	JR	Z,C.DB1
C.DB4:
	INC	IX
	LD	A,(IX+0)
	CP	C
	JR	Z,C.DB6
	CP	7FH
	JP	Z,ERR6
	PUSH	BC
	CALL	SETDAT
	POP	BC
	JP	C.DB4
C.DB6:	
	CALL	S.SKIP
	LD	A,(IX+0)
	CP	','
	JP	NZ,MAIN20
	INC	IX
	JR	C.DB0
;
;
;
C.DW:	CALL	OPCODE
	CP	50H
	JP	NZ,ERRB
C.DW1:	LD	HL,(VAL1)
	CALL	SETD2
	DEC	IX
	CALL	S.SKIP
	JP	Z,MAIN20
	CALL	OPCOD2
	JR	C.DW1
;
;
;
C.DWR:	CALL	OPCODE
	CP	50H
	JP	NZ,ERRB
C.DWR1:	LD	HL,(VAL1)
	PUSH	HL
	LD	A,H
	CALL	SETDAT
	POP	HL
	LD	A,L
	CALL	SETDAT
	DEC	IX
	CALL	S.SKIP
	JP	Z,MAIN20
	CALL	OPCOD2
	JR	C.DWR1
;
;
;
C.DM:	
	DEC	IX
	CALL	S.SKIP
	LD	A,(IX+0)
	CP	27H
	JR	Z,C.DM1-1
	CP	'"'
	JP	NZ,ERRB
	LD	C,A
C.DM1:	INC	IX
	LD	A,(IX+0)
	CP	C
	JP	Z,C.DM2
	PUSH	BC
	CALL	SETDAT
	POP	BC
	JR	C.DM1
C.DM2:	INC	IX
	JP	MAIN20
;
;
;
C.DS:	CALL	OPCODE
	CP	50H
	JP	NZ,ERRB
	DEC	IX
	CALL	S.SKIP
	LD	A,(IX+0)
	CP	','
	LD	B,00H
	LD	HL,(VAL1)
	LD	(VAL2),HL
	JR	NZ,C.DS1
	CALL	OPCOD2
	CP	50H
	JP	NZ,ERRB
	LD	HL,(VAL1)
	LD	A,H
	OR	A
	JP	NZ,ERR7
	LD	B,L
C.DS1:	LD	HL,(VAL2)
C.DS2:	LD	A,H
	OR	L
	JP	Z,MAIN20
	LD	A,B
	PUSH	BC
	CALL	SETDAT
	POP	BC
	DEC	HL
	JR	C.DS2


;
C.CALL:	CALL	OPCODE
	CP	50H
	JR	Z,C.CALLN
	JP	ERRB

C.CALLN:
	LD	A,0E8H
	CALL	SETDAT
	LD	HL,(VAL1)
	LD	DE,(O.ADR1)
	INC	DE
	INC	DE
	OR	A
	SBC	HL,DE
	CALL	IS386
	JR	Z,C.CALLN2
	CALL	SETD2
	JP	MAIN20
C.CALLN2:
	CALL	SETD2
	BIT	7,H
	LD	HL,0
	JR	Z,$+3
	DEC	HL
	CALL	SETD2
	JP	MAIN20

C.TEST:	CALL	TERM2
	LD	A,B
	CP	10H
	JR	C,C.TESTRG
	JP	ERRB

C.TESTRG:
	LD	A,C
	CP	50H
	JR	Z,C.TESTRGN
	JP	ERRB

C.TESTRGN:
	LD	A,B
	CALL	SIZE
	OR	0F6H
	CALL	SETDAT
	LD	A,B
	AND	07H
	OR	0C0H
	CALL	SETDAT
	LD	HL,(VAL2)
	LD	A,B
	CP	10H
	LD	A,L
	JR	C,C.TESTRGNB
	CALL	SETDAT
	LD	A,H
C.TESTRGNB:
	JP	SETD1
	LD	A,L

;
;
;
C.ADD:	LD	A,00000000B
	JR	C.C
C.ADC:	LD	A,00010000B
	JR	C.C
C.SBB:	LD	A,00011000B
	JR	C.C
C.SUB:	LD	A,00101000B
	JR	C.C
C.AND:	LD	A,00100000B
	JR	C.C
C.OR:	LD	A,00001000B
	JR	C.C
C.XOR:	LD	A,00110000B
	JR	C.C

C.CMP:	LD	A,00111000B
	JR	C.C

C.C:
	LD	(BDAT+0),A
	CALL	TERM2
	LD	A,B
	CP	10H
	JR	C,C.CRG
	JP	ERRB
C.CRG:
	LD	A,C
	CP	10H
	JR	C,C.CRGRG
	CP	50H
	JR	Z,C.CRGN
	JP	ERRB
C.CRGRG:
	LD	A,B
	CP	08H
	LD	A,0
	JR	C,$+3
	INC	A
	LD	HL,BDAT
	OR	(HL)	;38H
	CALL	SETDAT
	LD	A,C;B
	AND	07H
	RLCA
	RLCA
	RLCA
	LD	E,A
	LD	A,B;C
	AND	07H
	OR	E
	OR	0C0H
	JP	SETD1
C.CRGN:
	LD	A,B
	CP	08H
	LD	A,0
	JR	C,$+3
	INC	A
	OR	80H
	CALL	SETDAT
	LD	A,B
	AND	07H
	LD	HL,BDAT
	OR	(HL)
	OR	0C0H
;	OR	0F8H
	CALL	SETDAT

	LD	HL,(VAL2)
	LD	A,B
	CP	08H
	LD	A,L
	JR	C,C.CRGN.1
	CALL	SETDAT
	LD	A,H
C.CRGN.1:
	JP	SETD1

BDAT:	DS	10H
;
;
;

C.DEC:	CALL	OPCODE
	LD	B,A
	CP	08H
	JR	C,C.DECRGB
	CP	10H
	JR	C,C.DECRGW
	JP	ERRB
C.DECRGB:
	LD	A,0FEH
	CALL	SETDAT
	LD	A,B
	AND	07H
	OR	0C8H
	JP	SETD1
C.DECRGW:
	LD	A,B
	AND	07H
	OR	048H
	JP	SETD1

;
;
;
C.IN:	CALL	TERM2
	LD	A,B
	CP	00H
	JR	Z,C.INAL
	CP	08H
	JR	Z,C.INAX
	JP	ERRB
C.INAL:
	LD	A,C
	CP	50H
	JR	Z,C.INALN
	CP	0AH;DX
	JR	Z,C.INALDX
	JP	ERRB
C.INALN:
	LD	A,0E4H
	CALL	SETDAT
	LD	A,(VAL2)
	JP	SETD1
C.INALDX:
	LD	A,0ECH
	JP	SETD1
C.INAX:
	LD	A,C
	CP	0AH
	JR	Z,C.INAXDX
	CP	50H
	JR	Z,C.INAXN
	JP	ERRB
C.INAXDX:
	LD	A,0EDH
	JP	SETD1
C.INAXN:
	LD	A,0E5H
	CALL	SETDAT
	LD	A,(VAL2)
	JP	SETD1
;
;
;
C.INC:	CALL	OPCODE
	LD	B,A
	CP	08H
	JR	C,C.INCRGB
	CP	10H
	JR	C,C.INCRGW
	JP	ERRB

C.INCRGB:
	LD	A,0FEH
	CALL	SETDAT
	LD	A,B
	AND	07H
	OR	0C0H
	JP	SETD1

C.INCRGW:
	AND	07H
	OR	40H
	JP	SETD1

;
;
;

C.INT:
	CALL	OPCODE
	CP	50H
	JP	NZ,ERRB
	LD	A,0CDH
	CALL	SETDAT
	LD	A,(VAL1)
	JP	SETD1

;
;
;

C.JMP:	CALL	OPCODE
	CP	50H
	JR	Z,C.JMPN
	JP	ERRB

C.JMPN:	LD	A,0E9H
	CALL	SETDAT
	LD	HL,(VAL1)
	LD	DE,(O.ADR1)
	INC	DE
	INC	DE
	OR	A
	SBC	HL,DE
	CALL	SETD2
	JP	MAIN20


C.JO:	LD	A,70H
	JR	C.J2
C.JNO:	LD	A,71H
	JR	C.J2
C.JB:	LD	A,72H
	JR	C.J2
C.JAE:
C.JNB:
	LD	A,73H
	JR	C.J2
C.JE:	LD	A,74H
	JR	C.J2
C.JNE:	LD	A,75H
	JR	C.J2
C.JBE:	LD	A,76H
	JR	C.J2
C.JA:	LD	A,77H
	JR	C.J2
C.JS:	LD	A,78H
	JR	C.J2
C.JNS:	LD	A,79H
	JR	C.J2
C.JP:	LD	A,7AH
	JR	C.J2
C.JNP:	LD	A,7BH
	JR	C.J2
C.JL:	LD	A,7CH
	JR	C.J2
C.JGE:	LD	A,7DH
	JR	C.J2
C.JLE:	LD	A,7EH
	JR	C.J2
C.JG:	LD	A,7FH
	JR	C.J2

C.LOOP:	LD	A,0E2H
	JR	C.J

C.LOOPE:LD	A,0E1H
	JR	C.J

C.LOOPNE:LD	A,0E0H
	JR	C.J

C.J1:	POP	AF

C.J:	PUSH	AF
	CALL	OPCODE
	CP	50H
	JP	NZ,ERRB
	CALL	REL
	POP	AF

	CALL	SETDAT

;	LD	DE,(O.ADR1)
;	INC	DE
;	OR	A
;	SBC	HL,DE
	LD	A,L
	JP	SETD1

C.J2:	PUSH	AF
	CALL	OPCODE
	CP	50H
	JP	NZ,ERRB

	LD	A,(FLG.R)
	OR	A
	JR	NZ,C.J1

	LD	A,0FH
	CALL	SETDAT
	POP	AF
	SUB	70H
	ADD	A,80H
	CALL	SETDAT

	LD	HL,(VAL1)
	LD	DE,(O.ADR1)
	INC	DE
	INC	DE
	OR	A
	SBC	HL,DE
	CALL	SETD2
	JP	MAIN20

;
;
;
;

C.MOV:	CALL	OPCODE
	LD	B,A
	PUSH	BC
	LD	HL,(VAL1)
	PUSH	HL
	CALL	OPCOD2
	LD	HL,(VAL1)
	LD	(VAL2),HL
	POP	HL
	LD	(VAL1),HL
	POP	BC
	LD	C,A
	LD	A,B
	CP	10H
	JP	C,C.MOVRG
	CP	14H
	JP	C,C.MOVSG
	CP	30H
	JP	C,ERRB
	CP	30H+18H
	JP	C,C.MOVMEM
	JP	ERRB
C.MOVRG:
	LD	A,C
	CP	10H
	JP	C,C.MOVRGRG
	CP	14H
	JP	C,C.MOVRGSG
	CP	30H
	JP	C,ERRB
	CP	30H+18H
	JP	C,C.MOVRGMEM
	CP	50H
	JP	Z,C.MOVRGN
	JP	ERRB

C.MOVRGRG:
	LD	A,C;B
	CP	08H
	LD	A,00
	JR	C,$+3
	INC	A
	OR	88H
	CALL	SETDAT
	LD	A,C;B
	RLCA
	RLCA
	RLCA
	AND	38H
	LD	E,A
	LD	A,B;C
	AND	07H
	OR	E
	OR	0C0H
	JP	SETD1

C.MOVRGSG:
	LD	A,B
	CP	08H
	JP	C,ERRB
	LD	A,8CH
	CALL	SETDAT
	LD	A,B
	AND	07H
	LD	E,A
	LD	A,C
	SUB	10H
	RLCA
	RLCA
	RLCA
	AND	18H
	OR	E
	OR	0C0H
	JP	SETD1

C.MOVRGMEM:
	LD	A,B
	AND	07H
	CP	00H	;AL/AX
	JR	NZ,C.MOVRGMEM.05
	LD	A,C
	CP	30H+00110B;[NN]
	JP	Z,C.MOVACCMEM

C.MOVRGMEM.05:
	LD	A,B
	CALL	SIZE
	OR	8AH
	CALL	SETDAT
	LD	A,B
	AND	07H
	RLCA
	RLCA
	RLCA
	LD	E,A
	LD	A,C
	SUB	30H
	RLCA
	RLCA
	RLCA
	AND	0C0H
	OR	E
	LD	E,A
	LD	A,C
	SUB	30H
	AND	07H
	OR	E
	CALL	SETDAT
	LD	A,C
	CP	30H+00110B
	JR	Z,C.MOVRGMEM.10
	JP	MAIN20

C.MOVRGMEM.10:
	LD	HL,(VAL2)
	CALL	SETD2
	JP	MAIN20

C.MOVACCMEM:
	LD	A,B
	CALL	SIZE
	OR	0A0H
	CALL	SETDAT
	LD	HL,(VAL2)
	CALL	SETD2
	JP	MAIN20


C.MOVRGN:
	LD	A,B
	AND	0FH
	OR	0B0H
	CALL	SETDAT

	LD	A,B
	CP	08H
	LD	HL,(VAL2)
	LD	A,L
	JR	C,C.MOVRGN.1
	CALL	SETDAT
	LD	A,H
C.MOVRGN.1:
	JP	SETD1


C.MOVSG:
	LD	A,C
	CP	08H
	JP	C,ERRB
	CP	10H
	JR	C,C.MOVSGRG
	JP	ERRB

C.MOVSGRG:
	LD	A,C
	CP	08H
	JP	C,ERRB
	LD	A,8EH
	CALL	SETDAT
	LD	A,B
	SUB	10H
	RLCA
	RLCA
	RLCA
	AND	18H
	LD	E,A
	LD	A,C
	AND	07H
	OR	E
	OR	0C0H
	JP	SETD1

C.MOVMEM:
	LD	A,C
	CP	10H
	JR	C,C.MOVMEMRG
	JP	ERRB

C.MOVMEMRG:
	LD	A,B
	CP	30H+00110B
	JR	NZ,C.MOVMEMRG.05
	LD	A,C
	AND	07H
	CP	00H
	JP	Z,C.MOVMEMACC

C.MOVMEMRG.05:
	LD	A,C
	CALL	SIZE
	OR	88H
	CALL	SETDAT
	LD	A,B
	CALL	CVMOD
	LD	A,C
	AND	07H
	RLCA
	RLCA
	RLCA
	OR	E
	CALL	SETDAT
	LD	A,B
	CP	30H+00110B
	JR	Z,C.MOVMEMRG.10
	JP	MAIN20
C.MOVMEMRG.10:
	LD	HL,(VAL1)
	CALL	SETD2
	JP	MAIN20

C.MOVMEMACC:
	LD	A,C
	CALL	SIZE
	OR	0A2H
	CALL	SETDAT
	LD	HL,(VAL1)
	CALL	SETD2
	JP	MAIN20

;
;
;

C.IMUL:	LD	A,00101000B
	JR	C.M
C.MUL:	LD	A,00100000B
	JR	C.M
C.IDIV:	LD	A,00111000B
	JR	C.M
C.DIV:	LD	A,00110000B
	JR	C.M

C.M:	LD	(BDAT),A
	CALL	OPCODE
	LD	B,A
	CP	10H
	JR	C,C.IMULRG
	JP	ERRB

C.IMULRG:
	CALL	SIZE
	OR	0F6H
	CALL	SETDAT
	LD	A,B
	AND	07H
	LD	HL,BDAT
	OR	(HL)
	OR	0C0H
	JP	SETD1

;

C.MOVSB:LD	A,0A4H
	JP	SETD1
C.MOVSW:LD	A,0A5H
	JP	SETD1
C.CMPSB:LD	A,0A6H
	JP	SETD1
C.CMPSW:LD	A,0A7H
	JP	SETD1
C.STOSB:LD	A,0AAH
	JP	SETD1
C.STOSW:LD	A,0ABH
	JP	SETD1
C.LODSB:LD	A,0ACH
	JP	SETD1
C.LODSW:LD	A,0ADH
	JP	SETD1
C.SCASB:LD	A,0AEH
	JP	SETD1
C.SCASW:LD	A,0AFH
	JP	SETD1

C.NOP:
	LD	A,90H
	JP	SETD1

;
;
;

C.NEG:	CALL	OPCODE
	CP	10H
	JR	C,C.NEGRG
	JP	ERRB

C.NEGRG:
	LD	B,A
	CALL	SIZE
	OR	0F6H
	CALL	SETDAT
	LD	A,B
	AND	07H
	OR	0D8H
	JP	SETD1

;
;
;

C.NOT:	CALL	OPCODE
	CP	10H
	JR	C,C.NOTRG
	JP	ERRB
C.NOTRG:
	LD	B,A
	CALL	SIZE
	OR	0F6H
	CALL	SETDAT
	LD	A,B
	AND	07H
	OR	0D0H
	JP	SETD1

;
;
;
C.OUT:	CALL	TERM2
	LD	A,B
	CP	50H
	JR	Z,C.OUTN
	CP	0AH;DX
	JP	Z,C.OUTDX
	JP	ERRB
C.OUTN:
	LD	A,C
	CP	00H
	JR	Z,C.OUTNAL
	CP	08H
	JR	Z,C.OUTNAX
	JP	ERRB
C.OUTNAL:
	LD	A,0E6H
	CALL	SETDAT
	LD	A,(VAL1)
	JP	SETD1
C.OUTNAX:
	LD	A,0E7H
	CALL	SETDAT
	LD	A,(VAL1)
	JP	SETD1

C.OUTDX:
	LD	A,C
	CP	00H
	JR	Z,C.OUTDXAL
	CP	08H
	JR	Z,C.OUTDXAX
	JP	ERRB
C.OUTDXAL:
	LD	A,0EEH
	JP	SETD1
C.OUTDXAX:
	LD	A,0EFH
	JP	SETD1

;
;
;
C.POP:	CALL	OPCODE
	CP	08H
	JP	C,ERRB
	CP	10H
	JR	C,C.POPRG
	CP	14H
	JR	C,C.POPSG
	JP	ERRB
C.POPRG:
	AND	07H
	OR	58H
	JP	SETD1
C.POPSG:
	SUB	10H
	RLCA
	RLCA
	RLCA
	OR	07H
	JP	SETD1

;
;
;
C.PUSH:	CALL	OPCODE
	CP	08H
	JP	C,ERRB
	CP	10H
	JR	C,C.PUSHRG
	CP	14H
	JR	C,C.PUSHSG
	JP	ERRB
C.PUSHRG:
	AND	07H
	OR	50H
	JP	SETD1
C.PUSHSG:
	SUB	10H
	RLCA
	RLCA
	RLCA
	OR	06H
	JP	SETD1
;
;
;

C.REP:	LD	A,0F3H
	JP	SETD1

C.REPNE:LD	A,0F2H
	JP	SETD1

;
;
;
C.RET:	
	DEC	IX
	CALL	S.SKIP
	JR	NZ,C.RET2
	LD	A,0C3H
	JP	SETD1

C.RET2:	JP	ERRB

	CALL	OPCODE
	CP	1
	JR	NZ,$+4
	LD	A,23H
	CP	20H
	JP	C,ERRB
	CP	28H
	JP	NC,ERRB
	SUB	20H
	RLCA
	RLCA
	RLCA
	OR	0C0H
	JP	SETD1

;
;
;

C.RCL:	LD	A,00010000B
	JR	C.S

C.RCR:	LD	A,00011000B
	JR	C.S

C.ROL:	LD	A,00000000B
	JR	C.S

C.ROR:	LD	A,00001000B
	JR	C.S

C.SAL:
C.SHL:	LD	A,00100000B
	JR	C.S

C.SAR:	LD	A,00111000B
	JR	C.S

C.SHR:	LD	A,00101000B
	JR	C.S

C.S:	LD	(BDAT+0),A
	CALL	TERM2
	LD	A,B
	CP	10H
	JR	C,C.SRG
	JP	ERRB

C.SRG:	CALL	SIZE
	OR	0D0H
	LD	E,A
	LD	A,C
	CP	50H
	JR	Z,C.SRG1
	LD	A,E
	OR	02H
	LD	E,A
	LD	A,C
	CP	01H
	JR	Z,C.SRGCL
	JP	ERRB
C.SRG1:
	LD	HL,(VAL2)
	LD	A,L
	DEC	A
	OR	H
	JP	NZ,C.SRGN
C.SRGCL:
	LD	A,E
	CALL	SETDAT
	LD	A,B
	AND	07H
	LD	HL,BDAT
	OR	(HL)
	OR	0C0H
	JP	SETD1
C.SRGN:
	LD	A,E
	AND	1
	OR	0C0H
	CALL	SETDAT
	LD	A,B
	AND	07H
	LD	HL,BDAT
	OR	(HL)
	OR	0C0H
	CALL	SETDAT
	LD	A,(VAL2)
	JP	SETD1

C.AAA:	LD	A,37H
	JP	SETD1
C.AAS:	LD	A,3FH
	JP	SETD1
C.AAM:	LD	A,0D4H
	JP	SETD1
C.AAD:	LD	A,0D5H
	JP	SETD1

C.DAA:	LD	A,27H
	JP	SETD1

C.DAS:	LD	A,2FH
	JP	SETD1

C.CBW:	LD	A,98H
	JP	SETD1
C.CWD:	LD	A,99H
	JP	SETD1

C.LAHF:	LD	A,9FH
	JP	SETD1

C.SAHF:	LD	A,9EH
	JP	SETD1

C.PUSHF:LD	A,9CH
	JP	SETD1
C.POPF:	LD	A,9DH
	JP	SETD1

C.XLAT:	LD	A,0D7H
	JP	SETD1

C.CLC:	LD	A,0F8H
	JP	SETD1

C.CLD:	LD	A,0FCH
	JP	SETD1

C.CLI:	LD	A,0FAH
	JP	SETD1

C.CMC:	LD	A,0F5H
	JP	SETD1

C.STC:	LD	A,0F9H
	JP	SETD1

C.STD:	LD	A,0FDH
	JP	SETD1

C.STI:	LD	A,0FBH
	JP	SETD1

;
;
;

C.XCHG:	CALL	TERM2
	LD	A,B
	CP	10H
	JR	C,C.XCHGRG
	JP	ERRB

C.XCHGRG:
	LD	A,C
	CP	10H
	JR	C,C.XCHGRGRG
	JP	ERRB

C.XCHGRGRG:
	LD	A,B
	CALL	SIZE
	OR	86H
	CALL	SETDAT
	LD	A,B
	AND	07H
	LD	E,A
	LD	A,C
	AND	07H
	RLCA
	RLCA
	RLCA
	OR	E
	OR	0C0H
	JP	SETD1

;
;
;

TERM2:	CALL	OPCODE
	LD	B,A
	PUSH	BC
	LD	HL,(VAL1)
	PUSH	HL
	CALL	OPCOD2
	LD	HL,(VAL1)
	LD	(VAL2),HL
	POP	HL
	LD	(VAL1),HL
	POP	BC
	LD	C,A
	RET


CVMOD:
	LD	D,A
	SUB	30H
	RLCA
	RLCA
	RLCA
	AND	0C0H
	LD	E,A

	LD	A,D
	SUB	30H
	AND	07H
	OR	E
	LD	E,A
	RET


SIZE:	CP	08H
	LD	A,0
	RET	C
	INC	A
	RET

;
;
;

REL:	LD	A,(PASS)
	DEC	A
	LD	L,00H
	JR	Z,REL.10
	LD	HL,(VAL1)
	LD	DE,80H
	ADD	HL,DE
	LD	DE,(O.ADR1)
	INC	DE
	INC	DE
	OR	A
	SBC	HL,DE
	JP	C,ERRA
	LD	A,H
	OR	A
	JP	NZ,ERRA
	LD	A,L
	ADD	A,80H
	LD	L,A
REL.10:
	RET

;

IS386:	PUSH	BC
	LD	B,A
	LD	A,(FLG.386)
	INC	A
	LD	A,B
	POP	BC
	RET

SETD2:	PUSH	HL
	LD	A,L
	CALL	SETDAT
	POP	HL
	LD	A,H
	JP	SETDAT

SETD1:	CALL	SETDAT
	JP	MAIN20

;-----------------------
